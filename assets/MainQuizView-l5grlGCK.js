import{d as S,g as k,c,a,t as h,F as w,h as _,b as T,w as y,T as P,u as r,r as A,o as u,n as v,i as N,v as Q,f as V,j}from"./index-DOmbNA3d.js";import{u as B}from"./useQuizStore-1OTETud6.js";const D={class:"select-none w-full"},R={class:"flex flex-col justify-center items-center border-amber-200 border-4 rounded-3xl p-6 md:p-12 mb-16"},F={id:"question-box",class:"flex items-start w-full mb-4"},I={class:"bg-amber-600 text-stone-50 font-primary font-medium text-2xl md:text-3xl md:min-w-18 min-w-12 md:min-h-18 min-h-12 rounded-full flex justify-center items-center"},M={class:"flex flex-wrap items-center self-stretch"},E={class:"font-primary font-extrabold text-stone-50 text-xl md:text-2xl ml-4 flex"},J=["name","id","value","disabled"],O=["for","disabled"],U={class:"flex w-full mt-12 py-6 justify-center items-center relative"},X=["disabled"],$=["disabled"],G={id:"scoreTrackerNav",class:"py-4 flex flex-nowrap w-full max-w-screen-md overflow-scroll"},H={class:"font-primary font-bold text-base md:text-lg"},Y=S({__name:"MainQuizView",props:{questionsList:{},answersList:{},quizCache:{}},setup(q){const t=q,s=B(),e=k(0),d=k("");s.initializeScoreTracker(t.questionsList.length);const b=(n,l)=>{localStorage.setItem(t.quizCache,JSON.stringify({itemProgress:l,quizProgress:n}))},L=()=>{s.scoreTracker[e.value]=d.value===t.answersList[e.value],b(s.scoreTracker,e.value)},C=()=>{e.value+=1,d.value=""},p=localStorage.getItem(t.quizCache);if(p!==null){const n=JSON.parse(p);s.scoreTracker=n.quizProgress,e.value=s.scoreTracker[n.itemProgress]===null||n.itemProgress+1===n.quizProgress.length?n.itemProgress:n.itemProgress+1}else b(s.scoreTracker,e.value);window.onbeforeunload=()=>{s.scoreTracker.length>0&&b(s.scoreTracker,e.value)};const z=n=>{const l=t.questionsList[e.value].choices[n],g=d.value,f=t.answersList[e.value],o=s.scoreTracker[e.value],i=o!==null,m=l===g,x=l===f;return{"text-stone-50":i||!m,"bg-lime-600 border-lime-600":i&&(o||x),"bg-rose-600 borrder-rose-600":i&&m&&!o,"border-transparent":!m&&(!x||!i),"bg-stone-800":i&&!m&&!x,"bg-stone-700 hover:bg-stone-500":!i&&!m,"bg-amber-600 border-amber-100 text-stone-900":!i&&m}};return(n,l)=>{const g=A("RouterLink");return u(),c("div",D,[a("div",R,[a("div",F,[a("div",I,h(e.value+1),1),a("div",M,[a("div",E,h(t.questionsList[e.value].question),1)])]),(u(!0),c(w,null,_(t.questionsList[e.value].choices,(f,o)=>(u(),c("div",{id:"choices-box",class:v(["rounded-sm border-2 w-full px-3 my-1 flex transition-all ease-in-out duration-150",z(o)]),key:t.questionsList[e.value].choices[o]},[N(a("input",{type:"radio",class:"hidden","onUpdate:modelValue":l[0]||(l[0]=i=>d.value=i),name:"question"+e.value,id:t.questionsList[e.value].choices[o],value:t.questionsList[e.value].choices[o],disabled:r(s).scoreTracker[e.value]!==null},null,8,J),[[Q,d.value]]),a("label",{for:t.questionsList[e.value].choices[o],class:v(["font-primary text-lg md:text-xl flex w-full py-2 self-stretch",[r(s).scoreTracker[e.value]!==null&&t.questionsList[e.value].choices[o]===t.answersList[e.value]?"font-bold":"font-light",r(s).scoreTracker[e.value]===null?"hover:cursor-pointer":""]]),disabled:r(s).scoreTracker[e.value]!==null},h(t.questionsList[e.value].choices[o]),11,O)],2))),128)),a("div",U,[T(P,{name:"slide-up"},{default:y(()=>[r(s).scoreTracker[e.value]===null?(u(),c("button",{key:0,type:"submit",class:v(["absolute font-primary text-lg md:text-xl font-bold rounded-sm md:w-1/3 w-1/2 py-3 transition-all ease-in-out duration-150",r(s).scoreTracker[e.value]!==null?"hidden":d.value===""?"bg-stone-800 text-stone-600":"bg-stone-600 text-stone-50 hover:bg-amber-600 hover:text-stone-900"]),disabled:d.value==="",onClick:L}," SUBMIT ",10,X)):r(s).getAnswered()!==t.questionsList.length&&r(s).scoreTracker[e.value]!==null?(u(),c("button",{key:1,class:v(["absolute font-primary text-lg md:text-xl font-bold rounded-sm md:w-1/3 w-1/2 py-3 transition-all ease-in-out duration-150",r(s).getAnswered()===t.questionsList.length||r(s).scoreTracker[e.value]===null?"hidden":"bg-stone-600 text-stone-50 hover:bg-amber-600 hover:text-stone-900"]),disabled:r(s).scoreTracker[e.value]===null,onClick:C}," NEXT ",10,$)):r(s).getAnswered()===t.questionsList.length?(u(),c("nav",{key:2,class:v(["absolute bg-stone-600 hover:bg-amber-500 hover:text-black flex flex-col rounded-sm transition-all ease-in-out duration-150 text-center md:w-1/3 w-1/2",r(s).getAnswered()===t.questionsList.length?"":"hidden"])},[T(g,{to:"/results",class:"font-primary text-lg md:text-xl font-extrabold self-stretch py-3",onClick:l[1]||(l[1]=f=>b(r(s).scoreTracker,e.value))},{default:y(()=>l[2]||(l[2]=[V("Finish Quiz")])),_:1})],2)):j("",!0)]),_:1})])]),a("div",G,[(u(!0),c(w,null,_(r(s).scoreTracker,(f,o)=>(u(),c("div",{class:v(["rounded-full text-stone-50 flex justify-center items-center md:min-w-12 min-w-10 md:min-h-12 min-h-10 mx-1",[r(s).scoreTracker[o]===null?e.value===o?"bg-amber-600":"bg-stone-600":r(s).scoreTracker[o]?"bg-lime-600":"bg-rose-600",e.value===o?" border-stone-50":"border-transparent"]]),key:o},[a("p",H,h(o+1),1)],2))),128))])])}}});export{Y as default};
